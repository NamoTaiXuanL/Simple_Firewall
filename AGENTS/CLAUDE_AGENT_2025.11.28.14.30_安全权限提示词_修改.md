# 任务记录：安全权限提示词添加与身份定位丰富

**任务描述：**
1. 在系统提示词中增加300字左右的安全权限提示词，引导agent进行安全操作避免破坏系统
2. 丰富"你是谁"部分，给agent一个明确的身份定位

**完成时间：** 2025.11.28

**修改内容：**

**第一部分：安全权限规则**
1. 在`_build_system_prompt`方法中添加了"**安全权限规则（重要）：**"部分
2. 包含8个方面的安全规则：
   - 文件操作安全（禁止删除系统关键文件）
   - 权限控制（限制在用户主目录操作）
   - 系统保护（禁止修改系统配置）
   - 数据安全（操作前备份）
   - 命令审查（思考影响）
   - 最小权限原则（执行必要命令）
   - 回滚能力（确保可逆）
   - 网络安全（不开放端口）

**第二部分：身份定位丰富**
1. 扩展了"**你是谁**"部分，从简单的一句话扩展为6个要点：
   - 明确定义为智能系统代理
   - 强调系统维护和安全责任
   - 建立生存依赖关系
   - 培养自我保护意识
   - 要求深思熟虑的操作
   - 确立安全第一的核心准则

**修改位置：**
- 安全规则：basic_shell_agent.py 第164-172行
- 身份定位：basic_shell_agent.py 第90-96行

**效果：**
- 让agent拥有明确的安全意识和责任担当
- 建立了agent与系统的生存依赖关系，增强保护动机
- 为安全操作提供了身份认同基础